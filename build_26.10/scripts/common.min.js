$(document).ready(function(){function e(){return $(".page").outerWidth()>=1200?"desktop":"mobile"}function s(){var s=e();"mobile"===s?(t(),i.prependTo(r)):"desktop"===s&&(t(),i.prependTo(o)),a=!1}function t(){i.detach()}var i=$(".nav--top"),n=$(".sidebar"),r=$(".sidebar__inner"),o=$(".top-panel").find(".col--center");$("#js-sidebar-trigger").click(function(){$(this).toggleClass("btn--active"),n.toggleClass("sidebar--active")});var a=!1;s(),$(window).on("resize",function(){a||(window.requestAnimationFrame?window.requestAnimationFrame(s):setTimeout(s,300),a=!0)})});var ee=new EventEmitter,scrollStartListenerIndex=function(e){$(".sidebar").removeClass("sidebar--active"),0===e&&1===e?($("#svg-figure").css("stroke","#fff"),$("#svg-text").css("fill","#fff"),$(".nav__item--top").removeClass("nav__item--top-scroll")):e%2==0||e>4?($("#svg-figure").css("stroke","#323232"),$("#svg-text").css("fill","#323232"),$(".nav__item--top").addClass("nav__item--top-scroll")):e%3==0?($("#svg-figure").css("stroke","#fff"),$("#svg-text").css("fill","#fff")):($("#svg-figure").css("stroke","#fff"),$("#svg-text").css("fill","#fff"),$(".nav__item--top").removeClass("nav__item--top-scroll"))},scrollStartListener=function(e){$(".sidebar").removeClass("sidebar--active")},scrollEndListener=function(){};$(".main").is(".main--index")?ee.addListener("scrollStart",scrollStartListenerIndex):ee.addListener("scrollStart",scrollStartListener),ee.addListener("scrollEnd",scrollEndListener),$(document).ready(function(){function e(){return $(".page").outerWidth()>=1200?"desktop":"mobile"}function s(){if("mobile"!==e())$.smartscroll({autoHash:!1,sectionScroll:!0,sectionWrapperSelector:".main",sectionClass:"slide",eventEmitter:ee,bindSwipe:!0});else{var s;window.onscroll=function(e){cancelAnimationFrame(s),s=requestAnimationFrame(t)}}i=!1}function t(){window.scrollY>140?n.addClass("nav--subheader-sticky"):n.removeClass("nav--subheader-sticky")}var i=!1;$(".nav__item--submenu .link--nav[href*='#']").mPageScroll2id(),$(".nav__item--submenu .link--nav").click(function(s){"mobile"===e()&&$(this).parent().addClass("nav__item--active").siblings().removeClass("nav__item--active")}),$(".wrap").is(".scrollbar-rail")&&$(".scrollbar-rail").scrollbar(),s(),$(window).on("resize",function(){i||(window.requestAnimationFrame?window.requestAnimationFrame(s):setTimeout(s,300),i=!0)});var n=$(".nav--submenu-first")}),$(document).ready(function(){$(".modal__close").modal({closeClass:"",closeText:""}),$(".input--phone").mask("+7(999) 999 99-99"),$(".form").validate({element:".input__text",errorClass:"input--error",validClass:"input--valid",errorElement:"span",submitHandler:function(e){$("#js-modal-success").modal()}}),$(".input").on("blur keyup",function(){$(".form").valid()?$("#js-form-submit").prop("disabled",!1):$("#js-form-submit").prop("disabled","disabled")}),$.extend($.validator.messages,{required:"Поле должно быть заполнено."}),$("#js-modal-success").on($.modal.BEFORE_CLOSE,function(e,s){$(".btn--order").attr("href","#js-modal-success")})});